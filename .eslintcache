[{"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\index.js":"1","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\reportWebVitals.js":"2","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\App.js":"3","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\containers\\Login.js":"4","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\Header\\Header.js":"5","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\PatientFront.js":"6","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\AddPatientForm.js":"7","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\PatientsList.js":"8","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\Patient.js":"9","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\Services\\AuthServices.js":"10","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\PatientView.js":"11"},{"size":500,"mtime":499162500000,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"13"},{"size":2251,"mtime":1609363944246,"results":"15","hashOfConfig":"13"},{"size":2421,"mtime":1609348856992,"results":"16","hashOfConfig":"13"},{"size":7331,"mtime":1609363995849,"results":"17","hashOfConfig":"13"},{"size":3588,"mtime":1609360262925,"results":"18","hashOfConfig":"13"},{"size":1330,"mtime":1609256116394,"results":"19","hashOfConfig":"13"},{"size":822,"mtime":1609361415200,"results":"20","hashOfConfig":"13"},{"size":1001,"mtime":1609360502745,"results":"21","hashOfConfig":"13"},{"size":957,"mtime":1609345346104,"results":"22","hashOfConfig":"13"},{"size":1317,"mtime":1609362606477,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"liw1j1",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\index.js",[],["49","50"],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\reportWebVitals.js",[],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\App.js",["51"],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\containers\\Login.js",["52"],"import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport axios from 'axios';\r\nimport \"./Login.css\";\r\nimport {login, isAuthenticated, getUser} from \"../Services/AuthServices.js\";\r\nimport {Redirect, useHistory} from \"react-router-dom\";\r\n\r\nexport default function Login(props) {\r\n  const history = useHistory();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [validation, setValidation] = useState(\"\");\r\n\r\n  if (isAuthenticated()){\r\n    //history.push(\"/patients\");\r\n  }\r\n\r\n  const postLogin = (u) =>{\r\n\r\n    axios.post('http://localhost:3002/api/v1/login', u )\r\n    .then(result => {\r\n        console.log(result.data);\r\n        if(result.data.token != null){\r\n          console.log(\"There is a token inside\")\r\n          login(result.data.token, result.data.user)\r\n          console.log(getUser())\r\n          history.push(\"/\");\r\n        }\r\n    })\r\n    .catch(error => {\r\n      setValidation(\"The credentials provided are invalid\", error)\r\n      console.log(error)\r\n    });\r\n}\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    if (!email) {\r\n      setValidation(\"Please enter a email\");\r\n      return ;\r\n  }\r\n  if (!password) {\r\n      setValidation(\"Please enter a password\");\r\n      return ;\r\n  }\r\n    \r\n    postLogin({ email: email,password: password});\r\n  }\r\n\r\n  return (\r\n    <>\r\n        <div className=\"Login\">\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group size=\"lg\" controlId=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                autoFocus\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group size=\"lg\" controlId=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"validation-message\">{validation}</div>\r\n            <Button block size=\"lg\" type=\"submit\" >\r\n              Login\r\n            </Button>\r\n            <a href='h'>Â¿No tiene una cuenta?</a>\r\n          </Form>\r\n        </div>\r\n    \r\n  \r\n    </>\r\n  );\r\n}","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\Header\\Header.js",["53"],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\PatientFront.js",["54"],"import React, {useState, useEffect} from \"react\";\r\nimport AddPatientForm from \"./AddPatientForm.js\"\r\nimport PatientsList from \"./PatientsList.js\";\r\nimport axios from 'axios';\r\nimport \"./Patient.css\";\r\nimport {getToken} from \"../../Services/AuthServices.js\";\r\n\r\nexport default function PatientFront() {\r\n    const [patients, setPatients] = useState([]);\r\n    const [firstname, setFirstName] = useState(\"\");\r\n    const [lastname, setLastName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [validation, setValidation] = useState(\"\");\r\n\r\n    const fetchPosts = () =>{\r\n            let config = {\r\n                headers: {\r\n                'Authorization': 'Bearer ' + getToken()\r\n                }\r\n            }\r\n            axios.get('http://localhost:3002/api/v1/patient',config)\r\n            .then(result => {\r\n                setPatients(result.data);\r\n                console.log(patients);\r\n            })\r\n            .catch(error => {\r\n              console.log(error);\r\n            });\r\n    }\r\n\r\n    const createPatient = (p) =>{\r\n        let config = {\r\n            headers: {\r\n            'Authorization': 'Bearer ' + getToken()\r\n            }\r\n        }\r\n        axios.post('http://localhost:3002/api/v1/patient', p, config)\r\n        .then(result => {\r\n            console.log(result);\r\n            fetchPosts();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    const deletePatient = (ID) =>{\r\n        let config = {\r\n            headers: {\r\n            'Authorization': 'Bearer ' + getToken()\r\n            }\r\n        }\r\n        console.log(ID)\r\n        axios.delete('http://localhost:3002/api/v1/patient/'+ID, config)\r\n        .then(result => {\r\n            console.log(result);\r\n            fetchPosts();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    }\r\n\r\n    useEffect(() =>{\r\n        fetchPosts();\r\n\r\n    }, []);\r\n\r\n\r\n    function handleFormSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        if (!firstname) {\r\n            setValidation(\"Please enter a first name\");\r\n            return ;\r\n        }\r\n        if (!lastname) {\r\n            setValidation(\"Please enter a last name\");\r\n            return ;\r\n        }\r\n        if (!description){\r\n            setValidation(\"Please enter a description\");\r\n            return ;\r\n        }\r\n\r\n        createPatient({ firstname: firstname,\r\n            lastname: lastname,\r\n            description: description});\r\n        \r\n       \r\n        setFirstName(\"\");\r\n        setLastName(\"\");\r\n        setDescription(\"\");\r\n        setValidation(\"\");\r\n    }\r\n\r\n    function handleDeleteClick(ID) {\r\n        deletePatient(ID);\r\n    }\r\n\r\n    function handleFirstNameChange(event) {\r\n        setFirstName(event.target.value);\r\n    }\r\n\r\n    function handleLastNameChange(event) {\r\n        setLastName(event.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(event) {\r\n        setDescription(event.target.value);\r\n    }\r\n\r\n    return <>\r\n        <AddPatientForm \r\n            onSubmit={handleFormSubmit}\r\n            firstname={firstname}\r\n            lastname={lastname}\r\n            description={description}\r\n            validation={validation}\r\n            onFirstNameChange={handleFirstNameChange}\r\n            onLastNameChange={handleLastNameChange}\r\n            onDescriptionChange={handleDescriptionChange}\r\n        />\r\n        \r\n        <PatientsList \r\n            patients={patients} \r\n            onDeleteClick={handleDeleteClick}\r\n                /> \r\n      \r\n        \r\n    </>;\r\n\r\n}","C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\AddPatientForm.js",[],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\PatientsList.js",[],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\Patient.js",[],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\Services\\AuthServices.js",[],"C:\\Users\\dhinojosac\\Documents\\Codes\\react\\to-control-app\\src\\components\\PatientUI\\PatientView.js",["55"],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":7,"column":42,"nodeType":"62","messageId":"63","endLine":7,"endColumn":47},{"ruleId":"60","severity":1,"message":"64","line":7,"column":9,"nodeType":"62","messageId":"63","endLine":7,"endColumn":17},{"ruleId":"60","severity":1,"message":"65","line":84,"column":9,"nodeType":"62","messageId":"63","endLine":84,"endColumn":16},{"ruleId":"66","severity":1,"message":"67","line":67,"column":8,"nodeType":"68","endLine":67,"endColumn":10,"suggestions":"69"},{"ruleId":"66","severity":1,"message":"70","line":28,"column":8,"nodeType":"68","endLine":28,"endColumn":10,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'login' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.","'history' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPosts'. Either include it or remove the dependency array.","ArrayExpression",["74"],"React Hook useEffect has a missing dependency: 'fetchPatient'. Either include it or remove the dependency array.",["75"],"no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},{"desc":"78","fix":"79"},"Update the dependencies array to be: [fetchPosts]",{"range":"80","text":"81"},"Update the dependencies array to be: [fetchPatient]",{"range":"82","text":"83"},[1951,1953],"[fetchPosts]",[743,745],"[fetchPatient]"]